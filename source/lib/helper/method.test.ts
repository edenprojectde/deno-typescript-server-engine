
import { assertEquals, assert } from "https://deno.land/std/testing/asserts.ts";
import Methods, { MethodData, POSTHeaders } from "./method.ts";

Deno.test('MethodTests', () => {
    var retval = new MethodData();
    retval.Data['id_token'] = "12345";
    var methodReturn = Methods.POST("id_token=12345", POSTHeaders.HtmlFormular);
    assertEquals(retval.Data["id_token"], methodReturn?.Data["id_token"])


    

})

Deno.test('MethodTests - Google Token', () => {
    var retval = new MethodData();
    retval.Data['idtoken'] = "eyJhbGciOiJSUzI1NiIsImtpZCI6ImZiOGNhNWI3ZDhkOWE1YzZjNjc4ODA3MWU4NjZjNmM0MGYzZmMxZjkiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiMzI5MzIwMTM3MzAxLW52cHRoYzltNTg4MnVkMTQ4ZmZ1dWoyMzJnOXNoaTd2LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiMzI5MzIwMTM3MzAxLW52cHRoYzltNTg4MnVkMTQ4ZmZ1dWoyMzJnOXNoaTd2LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTA0ODc4Nzc4NDY1MzI4Njg5NzI5IiwiZW1haWwiOiJlZGVucHJvamVjdGRlQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhdF9oYXNoIjoiYXV1bjlMZld4OW5QUThRanNTdG1BQSIsIm5hbWUiOiJFZGVuIFByw7NqZWt0IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BT2gxNEdnODN6cE1DTy1PVGJCYWJ4NVZ2bUVJcFdlRmFPQXg5aElfZndxMzVBPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkVkZW4iLCJmYW1pbHlfbmFtZSI6IlByw7NqZWt0IiwibG9jYWxlIjoiZGUiLCJpYXQiOjE1OTA4MDg0NjYsImV4cCI6MTU5MDgxMjA2NiwianRpIjoiNTU0MTQ3ZmFjZTk2ZTllNzQ1MTA5ZmZmYjUyMWRiZGQ4ZTEzZmYxMSJ9.sW_5MFMLnh8YBoQGrlMTHTO0FWfD0YxDk6RY9fs_UjCAaz1PsSwgG1ZqXGy8wiKrFAukhlXgopg50B0jsjHfMesQ1E-RBAPLVcIB5W_w_NpVHiP03FweebGloLAvbYzknYKX1JJ5QkFgQqYiaaDZUjyVX5Myi5CvRZMcvbC7pwxOw7ZOMqpHyvy30-vW7g5VFvElfiq1cVCjKVBp1o7nv_yAwZMfqakJlt0t00lMlm4lubdA8ac5LN2HKdEYExQ6L6mosR8ikKXfrwostDXeazDOMcO1FDVX8tPfUu9pe86BJDp-MuISNRMu-LmEDl2ul7If5AiuVGFo9rm357zcBQ";
    var methodReturn = Methods.POST("idtoken=eyJhbGciOiJSUzI1NiIsImtpZCI6ImZiOGNhNWI3ZDhkOWE1YzZjNjc4ODA3MWU4NjZjNmM0MGYzZmMxZjkiLCJ0eXAiOiJKV1QifQ.eyJpc3MiOiJhY2NvdW50cy5nb29nbGUuY29tIiwiYXpwIjoiMzI5MzIwMTM3MzAxLW52cHRoYzltNTg4MnVkMTQ4ZmZ1dWoyMzJnOXNoaTd2LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwiYXVkIjoiMzI5MzIwMTM3MzAxLW52cHRoYzltNTg4MnVkMTQ4ZmZ1dWoyMzJnOXNoaTd2LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tIiwic3ViIjoiMTA0ODc4Nzc4NDY1MzI4Njg5NzI5IiwiZW1haWwiOiJlZGVucHJvamVjdGRlQGdtYWlsLmNvbSIsImVtYWlsX3ZlcmlmaWVkIjp0cnVlLCJhdF9oYXNoIjoiYXV1bjlMZld4OW5QUThRanNTdG1BQSIsIm5hbWUiOiJFZGVuIFByw7NqZWt0IiwicGljdHVyZSI6Imh0dHBzOi8vbGgzLmdvb2dsZXVzZXJjb250ZW50LmNvbS9hLS9BT2gxNEdnODN6cE1DTy1PVGJCYWJ4NVZ2bUVJcFdlRmFPQXg5aElfZndxMzVBPXM5Ni1jIiwiZ2l2ZW5fbmFtZSI6IkVkZW4iLCJmYW1pbHlfbmFtZSI6IlByw7NqZWt0IiwibG9jYWxlIjoiZGUiLCJpYXQiOjE1OTA4MDg0NjYsImV4cCI6MTU5MDgxMjA2NiwianRpIjoiNTU0MTQ3ZmFjZTk2ZTllNzQ1MTA5ZmZmYjUyMWRiZGQ4ZTEzZmYxMSJ9.sW_5MFMLnh8YBoQGrlMTHTO0FWfD0YxDk6RY9fs_UjCAaz1PsSwgG1ZqXGy8wiKrFAukhlXgopg50B0jsjHfMesQ1E-RBAPLVcIB5W_w_NpVHiP03FweebGloLAvbYzknYKX1JJ5QkFgQqYiaaDZUjyVX5Myi5CvRZMcvbC7pwxOw7ZOMqpHyvy30-vW7g5VFvElfiq1cVCjKVBp1o7nv_yAwZMfqakJlt0t00lMlm4lubdA8ac5LN2HKdEYExQ6L6mosR8ikKXfrwostDXeazDOMcO1FDVX8tPfUu9pe86BJDp-MuISNRMu-LmEDl2ul7If5AiuVGFo9rm357zcBQ", POSTHeaders.HtmlFormular);
    assertEquals(retval.Data["idtoken"], methodReturn?.Data["idtoken"])
})